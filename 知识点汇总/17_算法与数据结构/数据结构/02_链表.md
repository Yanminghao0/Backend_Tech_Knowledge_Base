# é“¾è¡¨ï¼ˆLinked Listï¼‰

> éè¿ç»­å­˜å‚¨çš„çº¿æ€§æ•°æ®ç»“æ„ï¼Œé€šè¿‡æŒ‡é’ˆè¿æ¥èŠ‚ç‚¹ï¼Œæ”¯æŒé«˜æ•ˆæ’å…¥åˆ é™¤

---

## ğŸ“‹ åŸºæœ¬ä¿¡æ¯

- **ç±»å‹**: çº¿æ€§æ•°æ®ç»“æ„
- **æ—¶é—´å¤æ‚åº¦**: 
  - è®¿é—®ï¼šO(n) - éœ€è¦ä»å¤´éå†
  - æŸ¥æ‰¾ï¼šO(n) - éœ€è¦éå†
  - æ’å…¥ï¼šO(1) - å·²çŸ¥ä½ç½®
  - åˆ é™¤ï¼šO(1) - å·²çŸ¥ä½ç½®
- **ç©ºé—´å¤æ‚åº¦**: O(n) - éœ€è¦é¢å¤–æŒ‡é’ˆç©ºé—´
- **ç‰¹ç‚¹**: 
  - âœ… æ’å…¥åˆ é™¤é«˜æ•ˆ
  - âœ… åŠ¨æ€å¤§å°
  - âŒ ä¸æ”¯æŒéšæœºè®¿é—®
  - âŒ é¢å¤–æŒ‡é’ˆå¼€é”€

---

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### 1. èŠ‚ç‚¹ç»“æ„
é“¾è¡¨ç”±ä¸€ç³»åˆ—èŠ‚ç‚¹ç»„æˆï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ï¼š
- **æ•°æ®åŸŸ**ï¼šå­˜å‚¨æ•°æ®
- **æŒ‡é’ˆåŸŸ**ï¼šæŒ‡å‘ä¸‹ä¸€ä¸ªï¼ˆæˆ–ä¸Šä¸€ä¸ªï¼‰èŠ‚ç‚¹

### 2. éè¿ç»­å­˜å‚¨
èŠ‚ç‚¹åœ¨å†…å­˜ä¸­ä¸è¿ç»­ï¼Œé€šè¿‡æŒ‡é’ˆé“¾æ¥

### 3. åŠ¨æ€åˆ†é…
å¯ä»¥åŠ¨æ€åœ°å¢åŠ æˆ–åˆ é™¤èŠ‚ç‚¹ï¼Œæ— éœ€é¢„åˆ†é…å›ºå®šç©ºé—´

---

## ğŸ’» ä»£ç å®ç°

### 1. å•é“¾è¡¨èŠ‚ç‚¹å®šä¹‰

```java
/**
 * å•é“¾è¡¨èŠ‚ç‚¹
 */
class ListNode {
    int val;           // æ•°æ®åŸŸ
    ListNode next;     // æŒ‡é’ˆåŸŸï¼šæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
    
    ListNode(int val) {
        this.val = val;
        this.next = null;
    }
    
    ListNode(int val, ListNode next) {
        this.val = val;
        this.next = next;
    }
}
```

### 2. åŒé“¾è¡¨èŠ‚ç‚¹å®šä¹‰

```java
/**
 * åŒé“¾è¡¨èŠ‚ç‚¹
 */
class DoublyListNode {
    int val;
    DoublyListNode prev;  // æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹
    DoublyListNode next;  // æŒ‡å‘åä¸€ä¸ªèŠ‚ç‚¹
    
    DoublyListNode(int val) {
        this.val = val;
        this.prev = null;
        this.next = null;
    }
}
```

### 3. åŸºæœ¬æ“ä½œ

#### (1) å¤´éƒ¨æ’å…¥

```java
/**
 * åœ¨é“¾è¡¨å¤´éƒ¨æ’å…¥èŠ‚ç‚¹
 * æ—¶é—´å¤æ‚åº¦ï¼šO(1)
 */
public ListNode insertAtHead(ListNode head, int val) {
    ListNode newNode = new ListNode(val);
    newNode.next = head;
    return newNode; // è¿”å›æ–°çš„å¤´èŠ‚ç‚¹
}
```

#### (2) å°¾éƒ¨æ’å…¥

```java
/**
 * åœ¨é“¾è¡¨å°¾éƒ¨æ’å…¥èŠ‚ç‚¹
 * æ—¶é—´å¤æ‚åº¦ï¼šO(n)
 */
public ListNode insertAtTail(ListNode head, int val) {
    ListNode newNode = new ListNode(val);
    
    if (head == null) {
        return newNode;
    }
    
    ListNode current = head;
    while (current.next != null) {
        current = current.next;
    }
    current.next = newNode;
    return head;
}
```

#### (3) åˆ é™¤èŠ‚ç‚¹

```java
/**
 * åˆ é™¤å€¼ä¸ºvalçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
 * æ—¶é—´å¤æ‚åº¦ï¼šO(n)
 */
public ListNode deleteNode(ListNode head, int val) {
    // å¤„ç†å¤´èŠ‚ç‚¹åˆ é™¤
    if (head != null && head.val == val) {
        return head.next;
    }
    
    ListNode current = head;
    while (current != null && current.next != null) {
        if (current.next.val == val) {
            current.next = current.next.next;
            break;
        }
        current = current.next;
    }
    return head;
}
```

#### (4) éå†é“¾è¡¨

```java
/**
 * éå†æ‰“å°é“¾è¡¨
 * æ—¶é—´å¤æ‚åº¦ï¼šO(n)
 */
public void printList(ListNode head) {
    ListNode current = head;
    while (current != null) {
        System.out.print(current.val + " -> ");
        current = current.next;
    }
    System.out.println("null");
}
```

---

## ğŸ“Š ç»å…¸é—®é¢˜

### 1. åè½¬é“¾è¡¨

#### (1) è¿­ä»£æ³•

```java
/**
 * LeetCode 206: åè½¬é“¾è¡¨ï¼ˆè¿­ä»£ï¼‰
 * æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)
 */
public ListNode reverseList(ListNode head) {
    ListNode prev = null;
    ListNode curr = head;
    
    while (curr != null) {
        ListNode next = curr.next;  // ä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
        curr.next = prev;           // åè½¬æŒ‡é’ˆ
        prev = curr;                // prevå‰è¿›
        curr = next;                // currå‰è¿›
    }
    
    return prev; // prevæ˜¯æ–°çš„å¤´èŠ‚ç‚¹
}
```

#### (2) é€’å½’æ³•

```java
/**
 * LeetCode 206: åè½¬é“¾è¡¨ï¼ˆé€’å½’ï¼‰
 * æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(n)
 */
public ListNode reverseList(ListNode head) {
    // é€’å½’ç»ˆæ­¢æ¡ä»¶
    if (head == null || head.next == null) {
        return head;
    }
    
    // é€’å½’åè½¬åç»­é“¾è¡¨
    ListNode newHead = reverseList(head.next);
    
    // åè½¬å½“å‰èŠ‚ç‚¹
    head.next.next = head;
    head.next = null;
    
    return newHead;
}
```

### 2. å¿«æ…¢æŒ‡é’ˆ

#### (1) æ‰¾é“¾è¡¨ä¸­ç‚¹

```java
/**
 * LeetCode 876: é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹
 * å¿«æŒ‡é’ˆèµ°2æ­¥ï¼Œæ…¢æŒ‡é’ˆèµ°1æ­¥ï¼Œå¿«æŒ‡é’ˆåˆ°æœ«å°¾æ—¶æ…¢æŒ‡é’ˆåœ¨ä¸­ç‚¹
 */
public ListNode middleNode(ListNode head) {
    ListNode slow = head;
    ListNode fast = head;
    
    while (fast != null && fast.next != null) {
        slow = slow.next;       // æ…¢æŒ‡é’ˆèµ°1æ­¥
        fast = fast.next.next;  // å¿«æŒ‡é’ˆèµ°2æ­¥
    }
    
    return slow; // æ…¢æŒ‡é’ˆæŒ‡å‘ä¸­ç‚¹
}
```

#### (2) ç¯æ£€æµ‹

```java
/**
 * LeetCode 141: ç¯å½¢é“¾è¡¨
 * åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯
 */
public boolean hasCycle(ListNode head) {
    if (head == null || head.next == null) {
        return false;
    }
    
    ListNode slow = head;
    ListNode fast = head;
    
    while (fast != null && fast.next != null) {
        slow = slow.next;
        fast = fast.next.next;
        
        if (slow == fast) {  // å¿«æ…¢æŒ‡é’ˆç›¸é‡ï¼Œæœ‰ç¯
            return true;
        }
    }
    
    return false;
}
```

#### (3) æ‰¾ç¯çš„å…¥å£

```java
/**
 * LeetCode 142: ç¯å½¢é“¾è¡¨ II
 * æ‰¾åˆ°ç¯çš„å…¥å£èŠ‚ç‚¹
 */
public ListNode detectCycle(ListNode head) {
    if (head == null || head.next == null) {
        return null;
    }
    
    // ç¬¬ä¸€æ­¥ï¼šåˆ¤æ–­æ˜¯å¦æœ‰ç¯
    ListNode slow = head;
    ListNode fast = head;
    
    while (fast != null && fast.next != null) {
        slow = slow.next;
        fast = fast.next.next;
        
        if (slow == fast) {
            // ç¬¬äºŒæ­¥ï¼šæ‰¾å…¥å£
            ListNode ptr = head;
            while (ptr != slow) {
                ptr = ptr.next;
                slow = slow.next;
            }
            return ptr; // å…¥å£èŠ‚ç‚¹
        }
    }
    
    return null;
}
```

### 3. åˆå¹¶é“¾è¡¨

```java
/**
 * LeetCode 21: åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨
 */
public ListNode mergeTwoLists(ListNode l1, ListNode l2) {
    ListNode dummy = new ListNode(0);  // å“¨å…µèŠ‚ç‚¹
    ListNode curr = dummy;
    
    while (l1 != null && l2 != null) {
        if (l1.val <= l2.val) {
            curr.next = l1;
            l1 = l1.next;
        } else {
            curr.next = l2;
            l2 = l2.next;
        }
        curr = curr.next;
    }
    
    // è¿æ¥å‰©ä½™èŠ‚ç‚¹
    curr.next = (l1 != null) ? l1 : l2;
    
    return dummy.next;
}
```

### 4. åˆ é™¤å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹

```java
/**
 * LeetCode 19: åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹
 * åŒæŒ‡é’ˆæ³•ï¼šè®©fastå…ˆèµ°næ­¥
 */
public ListNode removeNthFromEnd(ListNode head, int n) {
    ListNode dummy = new ListNode(0);
    dummy.next = head;
    
    ListNode fast = dummy;
    ListNode slow = dummy;
    
    // fastå…ˆèµ°n+1æ­¥
    for (int i = 0; i <= n; i++) {
        fast = fast.next;
    }
    
    // fastå’Œslowä¸€èµ·èµ°
    while (fast != null) {
        fast = fast.next;
        slow = slow.next;
    }
    
    // slow.nextå°±æ˜¯è¦åˆ é™¤çš„èŠ‚ç‚¹
    slow.next = slow.next.next;
    
    return dummy.next;
}
```

### 5. å›æ–‡é“¾è¡¨

```java
/**
 * LeetCode 234: å›æ–‡é“¾è¡¨
 * æ‰¾ä¸­ç‚¹ + åè½¬ååŠéƒ¨åˆ† + æ¯”è¾ƒ
 */
public boolean isPalindrome(ListNode head) {
    if (head == null || head.next == null) {
        return true;
    }
    
    // 1. æ‰¾åˆ°ä¸­ç‚¹
    ListNode slow = head;
    ListNode fast = head;
    while (fast.next != null && fast.next.next != null) {
        slow = slow.next;
        fast = fast.next.next;
    }
    
    // 2. åè½¬ååŠéƒ¨åˆ†
    ListNode secondHalf = reverseList(slow.next);
    
    // 3. æ¯”è¾ƒå‰åä¸¤éƒ¨åˆ†
    ListNode p1 = head;
    ListNode p2 = secondHalf;
    while (p2 != null) {
        if (p1.val != p2.val) {
            return false;
        }
        p1 = p1.next;
        p2 = p2.next;
    }
    
    return true;
}
```

---

## ğŸ” åº”ç”¨åœºæ™¯

### 1. Javaæ ¸å¿ƒåº“
- **LinkedList**: åŸºäºåŒå‘é“¾è¡¨å®ç°
- **HashMap**: é“¾è¡¨æ³•è§£å†³å“ˆå¸Œå†²çªï¼ˆJDK 1.8å‰ï¼‰
- **ConcurrentHashMap**: åˆ†æ®µé” + é“¾è¡¨/çº¢é»‘æ ‘

### 2. æ“ä½œç³»ç»Ÿ
- **è¿›ç¨‹è°ƒåº¦**: å°±ç»ªé˜Ÿåˆ—ã€ç­‰å¾…é˜Ÿåˆ—
- **å†…å­˜ç®¡ç†**: ç©ºé—²å—é“¾è¡¨

### 3. å®é™…åº”ç”¨
- **LRUç¼“å­˜**: åŒå‘é“¾è¡¨ + å“ˆå¸Œè¡¨
- **æµè§ˆå™¨å†å²**: å‰è¿›åé€€åŠŸèƒ½
- **éŸ³ä¹æ’­æ”¾å™¨**: æ’­æ”¾åˆ—è¡¨

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. ç©ºæŒ‡é’ˆå¼‚å¸¸

```java
// âŒ é”™è¯¯ï¼šæœªåˆ¤ç©º
public void operate(ListNode head) {
    int val = head.val; // å¯èƒ½NPE
}

// âœ… æ­£ç¡®ï¼šå…ˆåˆ¤ç©º
public void operate(ListNode head) {
    if (head == null) {
        return;
    }
    int val = head.val;
}
```

### 2. ä½¿ç”¨å“¨å…µèŠ‚ç‚¹ç®€åŒ–è¾¹ç•Œå¤„ç†

```java
// ä½¿ç”¨å“¨å…µèŠ‚ç‚¹é¿å…ç‰¹æ®Šå¤„ç†å¤´èŠ‚ç‚¹
ListNode dummy = new ListNode(0);
dummy.next = head;

// æ“ä½œdummy.nextï¼Œæœ€åè¿”å›dummy.next
return dummy.next;
```

### 3. å¿«æ…¢æŒ‡é’ˆåˆ¤æ–­æ¡ä»¶

```java
// æ­£ç¡®çš„åˆ¤æ–­æ¡ä»¶
while (fast != null && fast.next != null) {
    slow = slow.next;
    fast = fast.next.next;
}
```

### 4. é“¾è¡¨åè½¬æ—¶é¿å…æ–­é“¾

```java
// å¿…é¡»å…ˆä¿å­˜nextèŠ‚ç‚¹
ListNode next = curr.next;  // âœ… å…ˆä¿å­˜
curr.next = prev;           // å†ä¿®æ”¹
```

---

## ğŸ“ æœ€ä½³å®è·µ

### 1. é€‰æ‹©é“¾è¡¨ vs æ•°ç»„

```java
// é¢‘ç¹æ’å…¥åˆ é™¤ â†’ é“¾è¡¨
LinkedList<Integer> list = new LinkedList<>();

// é¢‘ç¹éšæœºè®¿é—® â†’ æ•°ç»„
ArrayList<Integer> list = new ArrayList<>();
```

### 2. åŒæŒ‡é’ˆæŠ€å·§
- **å¿«æ…¢æŒ‡é’ˆ**: æ‰¾ä¸­ç‚¹ã€æ£€æµ‹ç¯
- **å‰åæŒ‡é’ˆ**: åˆ é™¤å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹
- **å¯¹æ’æŒ‡é’ˆ**: å›æ–‡åˆ¤æ–­

### 3. å“¨å…µèŠ‚ç‚¹æŠ€å·§
ä½¿ç”¨å“¨å…µèŠ‚ç‚¹ç®€åŒ–è¾¹ç•Œå¤„ç†ï¼Œé¿å…ç‰¹æ®Šåˆ¤æ–­å¤´èŠ‚ç‚¹

### 4. é€’å½’æ€ç»´
å¾ˆå¤šé“¾è¡¨é—®é¢˜å¯ä»¥ç”¨é€’å½’ä¼˜é›…è§£å†³ï¼Œä½†æ³¨æ„æ ˆç©ºé—´å¼€é”€

---

## ğŸ“Š å¤æ‚åº¦å¯¹æ¯”

| æ“ä½œ | æ•°ç»„ | é“¾è¡¨ |
|------|------|------|
| éšæœºè®¿é—® | O(1) | O(n) |
| å¤´éƒ¨æ’å…¥ | O(n) | O(1) |
| å°¾éƒ¨æ’å…¥ | O(1)* | O(n) æˆ– O(1)** |
| ä¸­é—´æ’å…¥ | O(n) | O(1)*** |
| åˆ é™¤ | O(n) | O(1)*** |

*ArrayListåŠ¨æ€æ‰©å®¹æ—¶æ˜¯O(n)  
**ç»´æŠ¤tailæŒ‡é’ˆæ—¶æ˜¯O(1)  
***å·²çŸ¥ä½ç½®å‰æä¸‹

---

## ğŸ”— ç›¸å…³ä¸»é¢˜

- [æ•°ç»„](./01_æ•°ç»„.md) - å¦ä¸€ç§çº¿æ€§ç»“æ„
- [æ ˆ](./03_æ ˆ.md) - å¯ç”¨é“¾è¡¨å®ç°
- [é˜Ÿåˆ—](./04_é˜Ÿåˆ—.md) - å¯ç”¨é“¾è¡¨å®ç°
- [å“ˆå¸Œè¡¨](./05_å“ˆå¸Œè¡¨.md) - é“¾åœ°å€æ³•
- [LRUç¼“å­˜](../00_ç»å…¸é—®é¢˜/LRUç¼“å­˜.md) - é“¾è¡¨åº”ç”¨

---

> **å­¦ä¹ å»ºè®®**ï¼šé“¾è¡¨æ˜¯åŸºç¡€ä½†é‡è¦çš„æ•°æ®ç»“æ„ï¼ŒåŠ¡å¿…æŒæ¡å¿«æ…¢æŒ‡é’ˆã€åè½¬é“¾è¡¨è¿™ä¸¤å¤§æ ¸å¿ƒæŠ€å·§
