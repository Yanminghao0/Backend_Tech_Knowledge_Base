# æ•°ç»„ï¼ˆArrayï¼‰

> æœ€åŸºç¡€çš„çº¿æ€§æ•°æ®ç»“æ„ï¼Œå…ƒç´ åœ¨å†…å­˜ä¸­è¿ç»­å­˜å‚¨ï¼Œæ”¯æŒéšæœºè®¿é—®

---

## ğŸ“‹ åŸºæœ¬ä¿¡æ¯

- **ç±»å‹**: çº¿æ€§æ•°æ®ç»“æ„
- **æ—¶é—´å¤æ‚åº¦**: 
  - è®¿é—®ï¼šO(1) - é€šè¿‡ç´¢å¼•ç›´æ¥è®¿é—®
  - æŸ¥æ‰¾ï¼šO(n) - éœ€è¦éå†
  - æ’å…¥ï¼šO(n) - éœ€è¦ç§»åŠ¨å…ƒç´ 
  - åˆ é™¤ï¼šO(n) - éœ€è¦ç§»åŠ¨å…ƒç´ 
- **ç©ºé—´å¤æ‚åº¦**: O(n)
- **ç‰¹ç‚¹**: 
  - âœ… éšæœºè®¿é—®é€Ÿåº¦å¿«
  - âœ… ç¼“å­˜å‹å¥½ï¼ˆè¿ç»­å†…å­˜ï¼‰
  - âŒ å¤§å°å›ºå®šï¼ˆé™æ€æ•°ç»„ï¼‰
  - âŒ æ’å…¥åˆ é™¤æ•ˆç‡ä½

---

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### 1. è¿ç»­å†…å­˜å­˜å‚¨
æ•°ç»„å…ƒç´ åœ¨å†…å­˜ä¸­è¿ç»­æ’åˆ—ï¼Œåœ°å€è®¡ç®—å…¬å¼ï¼š
```
address(arr[i]) = base_address + i Ã— element_size
```

### 2. éšæœºè®¿é—®
é€šè¿‡ç´¢å¼•å¯ä»¥ O(1) è®¿é—®ä»»æ„å…ƒç´ 

### 3. ç¼“å­˜å‹å¥½
è¿ç»­å­˜å‚¨åˆ©äºCPUç¼“å­˜ï¼Œéå†æ€§èƒ½ä¼˜å¼‚

---

## ğŸ’» å¸¸è§æ“ä½œ

### 1. åˆå§‹åŒ–

```java
// é™æ€åˆå§‹åŒ–
int[] arr1 = {1, 2, 3, 4, 5};

// åŠ¨æ€åˆå§‹åŒ–
int[] arr2 = new int[5];

// åŠ¨æ€æ•°ç»„ï¼ˆå¯å˜é•¿åº¦ï¼‰
List<Integer> list = new ArrayList<>();
```

### 2. éå†

```java
// æ–¹å¼1ï¼šforå¾ªç¯
for (int i = 0; i < arr.length; i++) {
    System.out.println(arr[i]);
}

// æ–¹å¼2ï¼šå¢å¼ºforå¾ªç¯
for (int num : arr) {
    System.out.println(num);
}

// æ–¹å¼3ï¼šStream APIï¼ˆJava 8+ï¼‰
Arrays.stream(arr).forEach(System.out::println);
```

### 3. æ’å…¥å…ƒç´ 

```java
/**
 * åœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ ï¼ˆéœ€è¦ç§»åŠ¨åç»­å…ƒç´ ï¼‰
 * æ—¶é—´å¤æ‚åº¦ï¼šO(n)
 */
public void insert(int[] arr, int pos, int value, int size) {
    // ä»åå¾€å‰ç§»åŠ¨å…ƒç´ 
    for (int i = size - 1; i >= pos; i--) {
        arr[i + 1] = arr[i];
    }
    arr[pos] = value;
}
```

### 4. åˆ é™¤å…ƒç´ 

```java
/**
 * åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ 
 * æ—¶é—´å¤æ‚åº¦ï¼šO(n)
 */
public void delete(int[] arr, int pos, int size) {
    // ä»å‰å¾€åç§»åŠ¨å…ƒç´ 
    for (int i = pos; i < size - 1; i++) {
        arr[i] = arr[i + 1];
    }
}
```

---

## ğŸ“Š ç»å…¸é—®é¢˜

### 1. åŒæŒ‡é’ˆæŠ€å·§

#### (1) å¯¹æ’æŒ‡é’ˆ - ä¸¤æ•°ä¹‹å’Œ II

```java
/**
 * LeetCode 167: ä¸¤æ•°ä¹‹å’Œ IIï¼ˆæœ‰åºæ•°ç»„ï¼‰
 * ç»™å®šæœ‰åºæ•°ç»„ï¼Œæ‰¾ä¸¤ä¸ªæ•°ä½¿å…¶å’Œä¸ºç›®æ ‡å€¼
 */
public int[] twoSum(int[] numbers, int target) {
    int left = 0, right = numbers.length - 1;
    
    while (left < right) {
        int sum = numbers[left] + numbers[right];
        if (sum == target) {
            return new int[]{left + 1, right + 1}; // é¢˜ç›®è¦æ±‚ç´¢å¼•ä»1å¼€å§‹
        } else if (sum < target) {
            left++;  // å’Œå¤ªå°ï¼Œå·¦æŒ‡é’ˆå³ç§»
        } else {
            right--; // å’Œå¤ªå¤§ï¼Œå³æŒ‡é’ˆå·¦ç§»
        }
    }
    return new int[]{-1, -1};
}
```

#### (2) å¿«æ…¢æŒ‡é’ˆ - ç§»é™¤å…ƒç´ 

```java
/**
 * LeetCode 27: ç§»é™¤å…ƒç´ 
 * åŸåœ°ç§»é™¤æ•°ç»„ä¸­å€¼ä¸ºvalçš„å…ƒç´ 
 */
public int removeElement(int[] nums, int val) {
    int slow = 0;
    for (int fast = 0; fast < nums.length; fast++) {
        if (nums[fast] != val) {
            nums[slow++] = nums[fast];
        }
    }
    return slow; // æ–°æ•°ç»„é•¿åº¦
}
```

### 2. æ»‘åŠ¨çª—å£

```java
/**
 * LeetCode 209: é•¿åº¦æœ€å°çš„å­æ•°ç»„
 * æ‰¾å‡ºå’Œâ‰¥targetçš„æœ€çŸ­è¿ç»­å­æ•°ç»„
 */
public int minSubArrayLen(int target, int[] nums) {
    int left = 0, sum = 0;
    int minLen = Integer.MAX_VALUE;
    
    for (int right = 0; right < nums.length; right++) {
        sum += nums[right]; // æ‰©å¤§çª—å£
        
        // å½“æ»¡è¶³æ¡ä»¶æ—¶ï¼Œå°è¯•ç¼©å°çª—å£
        while (sum >= target) {
            minLen = Math.min(minLen, right - left + 1);
            sum -= nums[left++]; // ç¼©å°çª—å£
        }
    }
    
    return minLen == Integer.MAX_VALUE ? 0 : minLen;
}
```

### 3. å‰ç¼€å’Œ

```java
/**
 * LeetCode 560: å’Œä¸ºKçš„å­æ•°ç»„
 * æ‰¾å‡ºå’Œä¸ºkçš„è¿ç»­å­æ•°ç»„ä¸ªæ•°
 */
public int subarraySum(int[] nums, int k) {
    Map<Integer, Integer> prefixSum = new HashMap<>();
    prefixSum.put(0, 1); // å‰ç¼€å’Œä¸º0å‡ºç°1æ¬¡
    
    int sum = 0, count = 0;
    for (int num : nums) {
        sum += num; // è®¡ç®—å‰ç¼€å’Œ
        
        // å¦‚æœå­˜åœ¨å‰ç¼€å’Œsum-kï¼Œè¯´æ˜å­˜åœ¨å­æ•°ç»„å’Œä¸ºk
        count += prefixSum.getOrDefault(sum - k, 0);
        
        // è®°å½•å½“å‰å‰ç¼€å’Œ
        prefixSum.put(sum, prefixSum.getOrDefault(sum, 0) + 1);
    }
    
    return count;
}
```

### 4. äºŒç»´æ•°ç»„

```java
/**
 * LeetCode 54: èºæ—‹çŸ©é˜µ
 * é¡ºæ—¶é’ˆèºæ—‹éå†çŸ©é˜µ
 */
public List<Integer> spiralOrder(int[][] matrix) {
    List<Integer> result = new ArrayList<>();
    if (matrix == null || matrix.length == 0) return result;
    
    int top = 0, bottom = matrix.length - 1;
    int left = 0, right = matrix[0].length - 1;
    
    while (top <= bottom && left <= right) {
        // ä¸Šè¾¹ï¼šä»å·¦åˆ°å³
        for (int i = left; i <= right; i++) {
            result.add(matrix[top][i]);
        }
        top++;
        
        // å³è¾¹ï¼šä»ä¸Šåˆ°ä¸‹
        for (int i = top; i <= bottom; i++) {
            result.add(matrix[i][right]);
        }
        right--;
        
        // ä¸‹è¾¹ï¼šä»å³åˆ°å·¦
        if (top <= bottom) {
            for (int i = right; i >= left; i--) {
                result.add(matrix[bottom][i]);
            }
            bottom--;
        }
        
        // å·¦è¾¹ï¼šä»ä¸‹åˆ°ä¸Š
        if (left <= right) {
            for (int i = bottom; i >= top; i--) {
                result.add(matrix[i][left]);
            }
            left++;
        }
    }
    
    return result;
}
```

---

## ğŸ” åº”ç”¨åœºæ™¯

### 1. Javaæ ¸å¿ƒåº“
- **ArrayList**: åŸºäºåŠ¨æ€æ•°ç»„å®ç°
- **StringBuilder**: å†…éƒ¨ä½¿ç”¨charæ•°ç»„
- **ç¯å½¢ç¼“å†²åŒº**: Disruptoræ¡†æ¶

### 2. ç¼“å­˜å®ç°
- **LRU Cache**: é…åˆå“ˆå¸Œè¡¨ä½¿ç”¨
- **å¾ªç¯é˜Ÿåˆ—**: åŸºäºæ•°ç»„å®ç°

### 3. ç®—æ³•åŸºç¡€
- **æ’åºç®—æ³•**: å¿«æ’ã€å½’å¹¶ç­‰
- **åŠ¨æ€è§„åˆ’**: DPæ•°ç»„å­˜å‚¨ä¸­é—´ç»“æœ
- **å›¾çš„é‚»æ¥çŸ©é˜µ**: äºŒç»´æ•°ç»„è¡¨ç¤º

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. æ•°ç»„è¶Šç•Œ
```java
// âŒ é”™è¯¯ï¼šå¯èƒ½è¶Šç•Œ
for (int i = 0; i <= arr.length; i++) { // æ³¨æ„æ˜¯<=
    System.out.println(arr[i]); // å½“i=arr.lengthæ—¶è¶Šç•Œ
}

// âœ… æ­£ç¡®
for (int i = 0; i < arr.length; i++) {
    System.out.println(arr[i]);
}
```

### 2. ç©ºæŒ‡é’ˆå¼‚å¸¸
```java
int[] arr = null;
// âŒ ä½¿ç”¨å‰éœ€åˆ¤ç©º
if (arr != null && arr.length > 0) {
    // å®‰å…¨æ“ä½œ
}
```

### 3. å¼•ç”¨ä¼ é€’
```java
// æ•°ç»„æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¼ é€’çš„æ˜¯å¼•ç”¨
public void modify(int[] arr) {
    arr[0] = 999; // ä¼šä¿®æ”¹åŸæ•°ç»„
}
```

### 4. Arrayså·¥å…·ç±»é™·é˜±
```java
// Arrays.asListè¿”å›çš„æ˜¯å›ºå®šå¤§å°çš„List
List<Integer> list = Arrays.asList(1, 2, 3);
// list.add(4); // âŒ UnsupportedOperationException

// æ­£ç¡®åšæ³•
List<Integer> list = new ArrayList<>(Arrays.asList(1, 2, 3));
list.add(4); // âœ… å¯ä»¥æ·»åŠ 
```

---

## ğŸ“ æœ€ä½³å®è·µ

### 1. é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„
```java
// å›ºå®šå¤§å°ï¼Œé¢‘ç¹è®¿é—® â†’ ä½¿ç”¨æ•°ç»„
int[] arr = new int[100];

// å¤§å°ä¸ç¡®å®šï¼Œé¢‘ç¹å¢åˆ  â†’ ä½¿ç”¨ArrayList
List<Integer> list = new ArrayList<>();

// éœ€è¦çº¿ç¨‹å®‰å…¨ â†’ ä½¿ç”¨CopyOnWriteArrayList
List<Integer> safeList = new CopyOnWriteArrayList<>();
```

### 2. åŒæŒ‡é’ˆä¼˜åŒ–
å¾ˆå¤šæ•°ç»„é—®é¢˜å¯ä»¥ç”¨åŒæŒ‡é’ˆå°†O(nÂ²)ä¼˜åŒ–åˆ°O(n)

### 3. å–„ç”¨è¾…åŠ©æ•°æ®ç»“æ„
- é…åˆå“ˆå¸Œè¡¨ï¼šé™ä½æŸ¥æ‰¾å¤æ‚åº¦åˆ°O(1)
- é…åˆå †ï¼šå¿«é€Ÿæ‰¾æœ€å€¼
- å‰ç¼€å’Œæ•°ç»„ï¼šå¿«é€Ÿè®¡ç®—åŒºé—´å’Œ

### 4. ç©ºé—´æ¢æ—¶é—´
```java
// ä½¿ç”¨é¢å¤–æ•°ç»„å­˜å‚¨ä¸­é—´ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—
int[] dp = new int[n]; // åŠ¨æ€è§„åˆ’
int[] preSum = new int[n]; // å‰ç¼€å’Œ
```

---

## ğŸ”— ç›¸å…³ä¸»é¢˜

- [é“¾è¡¨](./02_é“¾è¡¨.md) - å¦ä¸€ç§çº¿æ€§ç»“æ„
- [å“ˆå¸Œè¡¨](./05_å“ˆå¸Œè¡¨.md) - å¿«é€ŸæŸ¥æ‰¾
- [äºŒåˆ†æŸ¥æ‰¾](../æŸ¥æ‰¾ç®—æ³•/02_äºŒåˆ†æŸ¥æ‰¾.md) - æœ‰åºæ•°ç»„æŸ¥æ‰¾
- [æ’åºç®—æ³•](../æ’åºç®—æ³•/README.md) - æ•°ç»„æ’åº
- [åŒæŒ‡é’ˆæŠ€å·§](../00_ç®—æ³•æŠ€å·§/åŒæŒ‡é’ˆ.md) - æ•°ç»„å¸¸ç”¨æŠ€å·§

---

> **å­¦ä¹ å»ºè®®**ï¼šæ•°ç»„æ˜¯æ‰€æœ‰æ•°æ®ç»“æ„çš„åŸºç¡€ï¼ŒåŠ¡å¿…æŒæ¡åŒæŒ‡é’ˆã€æ»‘åŠ¨çª—å£ã€å‰ç¼€å’Œè¿™ä¸‰å¤§æ ¸å¿ƒæŠ€å·§
