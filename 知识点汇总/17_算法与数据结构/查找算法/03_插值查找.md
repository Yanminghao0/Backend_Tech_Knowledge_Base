# æ’å€¼æŸ¥æ‰¾

> æ’å€¼æŸ¥æ‰¾æ˜¯äºŒåˆ†æŸ¥æ‰¾çš„æ”¹è¿›ç‰ˆæœ¬ï¼Œé€šè¿‡ç›®æ ‡å€¼ä¸è¾¹ç•Œå€¼çš„æ¯”ä¾‹å…³ç³»ç¡®å®šä¸­é—´ä½ç½®ï¼Œé€‚ç”¨äºå‡åŒ€åˆ†å¸ƒçš„æœ‰åºæ•°æ®

---

## ğŸ“‹ åŸºæœ¬ä¿¡æ¯

- **ç±»å‹**: æœ‰åºæŸ¥æ‰¾ç®—æ³•
- **æ—¶é—´å¤æ‚åº¦**: O(log log n) - å¹³å‡æƒ…å†µï¼ŒO(n) - æœ€åæƒ…å†µ
- **ç©ºé—´å¤æ‚åº¦**: O(1) - è¿­ä»£å®ç°ï¼ŒO(log log n) - é€’å½’å®ç°
- **é€‚ç”¨æ¡ä»¶**: 
  - âœ… æœ‰åºæ•°æ®é›†åˆ
  - âœ… æ•°æ®å…ƒç´ å‡åŒ€åˆ†å¸ƒ
  - âœ… æ•°å€¼å‹æ•°æ®ï¼ˆå¦‚æ•´æ•°ã€æµ®ç‚¹æ•°ï¼‰
- **æ ¸å¿ƒæ€æƒ³**: æ ¹æ®ç›®æ ‡å€¼ä¸æ•°æ®è¾¹ç•Œå€¼çš„æ¯”ä¾‹å…³ç³»åŠ¨æ€è®¡ç®—ä¸­é—´ä½ç½®ï¼Œè€Œéå›ºå®šäºŒåˆ†

---

## ğŸ¯ ç®—æ³•åŸç†

### 1. åŸºæœ¬æ€è·¯
1. å‡è®¾æ•°æ®é›†åˆä¸ºæœ‰åºæ•°ç»„ arrï¼Œç›®æ ‡å€¼ä¸º target
2. è®¡ç®—æ’å€¼ä½ç½®ï¼šmid = low + (target - arr[low]) * (high - low) / (arr[high] - arr[low])
3. æ¯”è¾ƒ arr[mid] ä¸ target
4. è‹¥ç›¸ç­‰ï¼Œåˆ™æŸ¥æ‰¾æˆåŠŸï¼Œè¿”å› mid
5. è‹¥ arr[mid] < targetï¼Œåˆ™åœ¨å³åŠéƒ¨åˆ†æŸ¥æ‰¾ï¼ˆlow = mid + 1ï¼‰
6. è‹¥ arr[mid] > targetï¼Œåˆ™åœ¨å·¦åŠéƒ¨åˆ†æŸ¥æ‰¾ï¼ˆhigh = mid - 1ï¼‰
7. é‡å¤æ­¥éª¤2-6ï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡æˆ– low > high

### 2. æ ¸å¿ƒæµç¨‹å›¾
```mermaid
graph TD
    A[å¼€å§‹] --> B[åˆå§‹åŒ– low=0, high=length-1]
    B --> C{low <= high?}
    C -- æ˜¯ --> D[è®¡ç®— mid = low + (target - arr[low])*(high-low)/(arr[high]-arr[low])]
    D --> E{arr[mid] == target?}
    E -- æ˜¯ --> F[è¿”å› midï¼ŒæŸ¥æ‰¾æˆåŠŸ]
    E -- å¦ --> G{arr[mid] < target?}
    G -- æ˜¯ --> H[low = mid + 1]
    G -- å¦ --> I[high = mid - 1]
    H --> C
    I --> C
    C -- å¦ --> J[è¿”å› -1ï¼ŒæŸ¥æ‰¾å¤±è´¥]
    F --> K[ç»“æŸ]
    J --> K
```

### 3. ä¸äºŒåˆ†æŸ¥æ‰¾çš„åŒºåˆ«
| ç‰¹æ€§ | äºŒåˆ†æŸ¥æ‰¾ | æ’å€¼æŸ¥æ‰¾ |
|------|----------|----------|
| ä¸­é—´ä½ç½®è®¡ç®— | mid = (low + high)/2 | mid = low + (target - arr[low])*(high-low)/(arr[high]-arr[low]) |
| æ•°æ®åˆ†å¸ƒè¦æ±‚ | ä»…éœ€æœ‰åº | æœ‰åºä¸”å‡åŒ€åˆ†å¸ƒ |
| å¹³å‡æŸ¥æ‰¾é•¿åº¦ | log2(n+1)-1 | log log n |
| é€‚ç”¨åœºæ™¯ | æ‰€æœ‰æœ‰åºæ•°æ® | å‡åŒ€åˆ†å¸ƒçš„æœ‰åºæ•°æ® |
| è¾¹ç•Œå€¼å½±å“ | æ—  | å—é¦–å°¾å…ƒç´ å€¼å½±å“è¾ƒå¤§ |

---

## ğŸ’» ä»£ç å®ç°

### 1. è¿­ä»£å®ç°
```java
/**
 * æ’å€¼æŸ¥æ‰¾è¿­ä»£å®ç°
 * @param arr æœ‰åºæ•°ç»„
 * @param target ç›®æ ‡å€¼
 * @return ç›®æ ‡ç´¢å¼•ï¼Œæœªæ‰¾åˆ°è¿”å›-1
 */
public int interpolationSearch(int[] arr, int target) {
    if (arr == null || arr.length == 0) {
        return -1;
    }
    
    int low = 0;
    int high = arr.length - 1;
    
    // å¤„ç†ç›®æ ‡å€¼è¶…å‡ºèŒƒå›´çš„æƒ…å†µ
    if (target < arr[low] || target > arr[high]) {
        return -1;
    }
    
    while (low <= high) {
        // é¿å…é™¤é›¶é”™è¯¯
        if (arr[high] == arr[low]) {
            return arr[low] == target ? low : -1;
        }
        
        // è®¡ç®—æ’å€¼ä½ç½®
        int mid = low + (target - arr[low]) * (high - low) / (arr[high] - arr[low]);
        
        // é˜²æ­¢midè¶Šç•Œï¼ˆå½“ç›®æ ‡å€¼ä¸è¾¹ç•Œå€¼å·®å¼‚è¿‡å¤§æ—¶ï¼‰
        if (mid < low || mid > high) {
            break;
        }
        
        if (arr[mid] == target) {
            return mid;
        } else if (arr[mid] < target) {
            low = mid + 1;
        } else {
            high = mid - 1;
        }
    }
    
    return -1;
}
```

### 2. é€’å½’å®ç°
```java
/**
 * æ’å€¼æŸ¥æ‰¾é€’å½’å®ç°
 * @param arr æœ‰åºæ•°ç»„
 * @param target ç›®æ ‡å€¼
 * @param low å·¦è¾¹ç•Œ
 * @param high å³è¾¹ç•Œ
 * @return ç›®æ ‡ç´¢å¼•ï¼Œæœªæ‰¾åˆ°è¿”å›-1
 */
public int interpolationSearchRecursive(int[] arr, int target, int low, int high) {
    // é€’å½’ç»ˆæ­¢æ¡ä»¶
    if (low > high || target < arr[low] || target > arr[high]) {
        return -1;
    }
    
    // é¿å…é™¤é›¶é”™è¯¯
    if (arr[high] == arr[low]) {
        return arr[low] == target ? low : -1;
    }
    
    // è®¡ç®—æ’å€¼ä½ç½®
    int mid = low + (target - arr[low]) * (high - low) / (arr[high] - arr[low]);
    
    // é˜²æ­¢midè¶Šç•Œ
    if (mid < low || mid > high) {
        return -1;
    }
    
    if (arr[mid] == target) {
        return mid;
    } else if (arr[mid] < target) {
        return interpolationSearchRecursive(arr, target, mid + 1, high);
    } else {
        return interpolationSearchRecursive(arr, target, low, mid - 1);
    }
}
```

### 3. ä¼˜åŒ–ç‰ˆæœ¬ï¼ˆå¤„ç†é‡å¤å…ƒç´ ï¼‰
```java
/**
 * æ’å€¼æŸ¥æ‰¾ä¼˜åŒ–ç‰ˆæœ¬ï¼ˆå¤„ç†é‡å¤å…ƒç´ ï¼‰
 * @param arr æœ‰åºæ•°ç»„
 * @param target ç›®æ ‡å€¼
 * @return ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ç´¢å¼•
 */
public int interpolationSearchFirstOccurrence(int[] arr, int target) {
    if (arr == null || arr.length == 0 || target < arr[0] || target > arr[arr.length-1]) {
        return -1;
    }
    
    int low = 0;
    int high = arr.length - 1;
    int result = -1;
    
    while (low <= high) {
        if (arr[high] == arr[low]) {
            if (arr[low] == target) {
                return low; // æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ 
            }
            break;
        }
        
        int mid = low + (target - arr[low]) * (high - low) / (arr[high] - arr[low]);
        
        if (mid < low || mid > high) {
            break;
        }
        
        if (arr[mid] == target) {
            result = mid; // è®°å½•æ‰¾åˆ°çš„ä½ç½®
            high = mid - 1; // ç»§ç»­å‘å·¦æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå‡ºç°çš„ä½ç½®
        } else if (arr[mid] < target) {
            low = mid + 1;
        } else {
            high = mid - 1;
        }
    }
    
    return result;
}
```

---

## ğŸ“Š å¤æ‚åº¦åˆ†æ

| æƒ…å†µ | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | è¯´æ˜ |
|------|------------|------------|------|
| æœ€å¥½æƒ…å†µ | O(1) | O(1) | ç›®æ ‡å€¼æ°å¥½åœ¨è®¡ç®—å‡ºçš„midä½ç½® |
| å¹³å‡æƒ…å†µ | O(log log n) | O(1) | æ•°æ®å‡åŒ€åˆ†å¸ƒæ—¶ |
| æœ€åæƒ…å†µ | O(n) | O(1) | æ•°æ®åˆ†å¸ƒæç«¯ä¸å‡åŒ€æ—¶ |

### å¤æ‚åº¦åˆ†æè¦ç‚¹
- æ—¶é—´å¤æ‚åº¦ä¸æ•°æ®åˆ†å¸ƒå¯†åˆ‡ç›¸å…³ï¼Œå‡åŒ€åˆ†å¸ƒæ—¶æ•ˆç‡æ¥è¿‘O(log log n)
- å½“æ•°æ®å‘ˆæŒ‡æ•°åˆ†å¸ƒæ—¶ï¼Œæ€§èƒ½å¯èƒ½é€€åŒ–ä¸ºO(n)
- ç©ºé—´å¤æ‚åº¦ä¸ºå¸¸æ•°çº§ï¼Œä»…éœ€å‡ ä¸ªé¢å¤–å˜é‡
- é€’å½’å®ç°çš„ç©ºé—´å¤æ‚åº¦å–å†³äºé€’å½’æ·±åº¦ï¼Œé€šå¸¸ä¸ºO(log log n)

---

## ğŸ” åº”ç”¨åœºæ™¯

### å…¸å‹åº”ç”¨
- å­—å…¸æŸ¥è¯¢ç³»ç»Ÿ
- ç”µè¯å·ç ç°¿æŸ¥æ‰¾
- å‡åŒ€åˆ†å¸ƒçš„æœ‰åºæ•°ç»„æŸ¥æ‰¾
- æ•°æ®åº“ç´¢å¼•æŸ¥è¯¢ï¼ˆç‰¹å®šåœºæ™¯ï¼‰

### å®é™…æ¡ˆä¾‹
- å›¾ä¹¦é¦†å›¾ä¹¦ç¼–å·æŸ¥æ‰¾ç³»ç»Ÿ
- è‹±æ±‰è¯å…¸å•è¯æŸ¥æ‰¾åŠŸèƒ½
- å­¦ç”Ÿæˆç»©æ’åæŸ¥è¯¢
- äººå£æ™®æŸ¥æ•°æ®æŸ¥è¯¢

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. æ•°æ®åˆ†å¸ƒå½±å“
- **å¿…é¡»å‡åŒ€åˆ†å¸ƒ**ï¼šéå‡åŒ€åˆ†å¸ƒæ•°æ®å¯èƒ½å¯¼è‡´æŸ¥æ‰¾æ•ˆç‡å¤§å¹…ä¸‹é™
- **è¾¹ç•Œå€¼æ•æ„Ÿ**ï¼šå½“ç›®æ ‡å€¼æ¥è¿‘è¾¹ç•Œæ—¶ï¼Œmidè®¡ç®—å¯èƒ½ä¸å‡†ç¡®
- **é‡å¤å…ƒç´ å¤„ç†**ï¼šéœ€è¦ç‰¹æ®Šå¤„ç†ä»¥æŸ¥æ‰¾ç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªåŒ¹é…å…ƒç´ 

### 2. å®ç°æ³¨æ„äº‹é¡¹
- **é˜²æ­¢é™¤é›¶é”™è¯¯**ï¼šå½“arr[high] == arr[low]æ—¶éœ€ç‰¹æ®Šå¤„ç†
- **é˜²æ­¢midè¶Šç•Œ**ï¼šè®¡ç®—å‡ºçš„midå¯èƒ½è¶…å‡º[low, high]èŒƒå›´
- **è¾¹ç•Œæ£€æŸ¥**ï¼šæå‰æ£€æŸ¥ç›®æ ‡å€¼æ˜¯å¦åœ¨æ•°ç»„èŒƒå›´å†…
- **æ•´æ•°æº¢å‡º**ï¼šmidè®¡ç®—å…¬å¼å¯èƒ½å¯¼è‡´æ•´æ•°æº¢å‡ºï¼Œéœ€ä½¿ç”¨longç±»å‹ä¸­é—´å˜é‡

### 3. ä¸äºŒåˆ†æŸ¥æ‰¾çš„é€‰æ‹©ç­–ç•¥
- æ•°æ®é‡è¾ƒå°ï¼ˆn<100ï¼‰ï¼šä¸¤è€…æ•ˆç‡å·®å¼‚å¯å¿½ç•¥ï¼Œä¼˜å…ˆé€‰æ‹©å®ç°ç®€å•çš„äºŒåˆ†æŸ¥æ‰¾
- æ•°æ®å‡åŒ€åˆ†å¸ƒï¼šä¼˜å…ˆé€‰æ‹©æ’å€¼æŸ¥æ‰¾
- æ•°æ®åˆ†å¸ƒæœªçŸ¥æˆ–ä¸å‡åŒ€ï¼šä¼˜å…ˆé€‰æ‹©äºŒåˆ†æŸ¥æ‰¾
- å®æ—¶æ€§è¦æ±‚é«˜ï¼šä¼˜å…ˆé€‰æ‹©æ’å€¼æŸ¥æ‰¾ï¼ˆåœ¨é€‚ç”¨åœºæ™¯ä¸‹ï¼‰

---

## ğŸ“ æœ€ä½³å®è·µ

### ä½¿ç”¨å»ºè®®
1. **å‡åŒ€åˆ†å¸ƒæ•°æ®é¦–é€‰**ï¼šåœ¨å‡åŒ€åˆ†å¸ƒçš„æœ‰åºæ•°æ®ä¸Šæ€§èƒ½ä¼˜äºäºŒåˆ†æŸ¥æ‰¾
2. **è¾¹ç•Œå€¼å¤„ç†**ï¼šå®ç°æ—¶å¿…é¡»æ·»åŠ è¾¹ç•Œæ£€æŸ¥å’Œé™¤é›¶ä¿æŠ¤
3. **æ··åˆç­–ç•¥**ï¼šå¤§æ•°æ®é›†å¯å…ˆç”¨æ’å€¼æŸ¥æ‰¾ï¼Œæ¥è¿‘ç›®æ ‡æ—¶åˆ‡æ¢ä¸ºäºŒåˆ†æŸ¥æ‰¾
4. **é¿å…é€’å½’**ï¼šä¼˜å…ˆé€‰æ‹©è¿­ä»£å®ç°ï¼Œé¿å…é€’å½’è°ƒç”¨å¼€é”€

### ä¼˜åŒ–æŠ€å·§
- **åŠ¨æ€è°ƒæ•´æ¯”ä¾‹**ï¼šæ ¹æ®æ•°æ®åˆ†å¸ƒç‰¹ç‚¹è°ƒæ•´æ’å€¼å…¬å¼
- **ç¼“å­˜è¾¹ç•Œå€¼**ï¼šå‡å°‘é‡å¤è®¡ç®—å¼€é”€
- **èŒƒå›´é™åˆ¶**ï¼šå°†è®¡ç®—å‡ºçš„midé™åˆ¶åœ¨[low, high]èŒƒå›´å†…
- **é¢„çƒ­å¤„ç†**ï¼šå¯¹ä¸å‡åŒ€æ•°æ®è¿›è¡Œé¢„å¤„ç†ï¼Œæé«˜åˆ†å¸ƒå‡åŒ€æ€§

### å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ
| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ |
|------|----------|
| æ•°æ®åˆ†å¸ƒä¸å‡åŒ€ | ç»“åˆäºŒåˆ†æŸ¥æ‰¾ï¼Œè®¾ç½®é˜ˆå€¼åˆ‡æ¢ç‚¹ |
| é‡å¤å…ƒç´ æŸ¥æ‰¾ | æ·»åŠ é¢å¤–é€»è¾‘è®°å½•é¦–æ¬¡/æœ«æ¬¡å‡ºç°ä½ç½® |
| æ•´æ•°æº¢å‡ºé£é™© | ä½¿ç”¨longç±»å‹è®¡ç®—midï¼Œå†è½¬æ¢ä¸ºint |
| è¾¹ç•Œå€¼è®¡ç®—åå·® | è°ƒæ•´æ’å€¼å…¬å¼ï¼ŒåŠ å…¥ä¿®æ­£ç³»æ•° |

---

> **æ€»ç»“**ï¼šæ’å€¼æŸ¥æ‰¾é€šè¿‡åˆ©ç”¨æ•°æ®åˆ†å¸ƒç‰¹æ€§åŠ¨æ€è®¡ç®—ä¸­é—´ä½ç½®ï¼Œåœ¨å‡åŒ€åˆ†å¸ƒçš„æœ‰åºæ•°æ®ä¸Šè¡¨ç°å‡ºæ¯”äºŒåˆ†æŸ¥æ‰¾æ›´é«˜çš„æ•ˆç‡ã€‚ç„¶è€Œï¼Œå…¶æ€§èƒ½å—æ•°æ®åˆ†å¸ƒå½±å“è¾ƒå¤§ï¼Œå®ç°æ—¶éœ€æ³¨æ„è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸å¤„ç†ï¼Œåœ¨å®é™…åº”ç”¨ä¸­åº”æ ¹æ®æ•°æ®ç‰¹ç‚¹é€‰æ‹©åˆé€‚çš„æŸ¥æ‰¾ç®—æ³•ã€‚