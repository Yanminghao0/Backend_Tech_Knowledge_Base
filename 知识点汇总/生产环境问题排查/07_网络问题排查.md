# ç½‘ç»œé—®é¢˜æ’æŸ¥

> å®æˆ˜æŒ‡å—ï¼šå¦‚ä½•æ’æŸ¥è¿æ¥è¶…æ—¶ã€ç½‘ç»œå»¶è¿Ÿã€ä¸¢åŒ…ç­‰ç½‘ç»œé—®é¢˜

## ğŸ“‹ ç›®å½•
- [å¸¸è§é—®é¢˜ç±»å‹](#å¸¸è§é—®é¢˜ç±»å‹)
- [è¿æ¥è¶…æ—¶](#è¿æ¥è¶…æ—¶)
- [ç½‘ç»œå»¶è¿Ÿ](#ç½‘ç»œå»¶è¿Ÿ)
- [ç½‘ç»œä¸¢åŒ…](#ç½‘ç»œä¸¢åŒ…)
- [æ’æŸ¥å·¥å…·](#æ’æŸ¥å·¥å…·)

---

## å¸¸è§é—®é¢˜ç±»å‹

### 1. è¿æ¥è¶…æ—¶

**ç—‡çŠ¶**ï¼š
```
âœ… è¿æ¥å»ºç«‹å¤±è´¥
âœ… è¿æ¥è¶…æ—¶å¼‚å¸¸
âœ… æœåŠ¡ä¸å¯è®¿é—®
```

### 2. ç½‘ç»œå»¶è¿Ÿ

**ç—‡çŠ¶**ï¼š
```
âœ… è¯·æ±‚å“åº”å˜æ…¢
âœ… ç½‘ç»œå»¶è¿Ÿå¢åŠ 
âœ… è·¨æœåŠ¡è°ƒç”¨å˜æ…¢
```

### 3. ç½‘ç»œä¸¢åŒ…

**ç—‡çŠ¶**ï¼š
```
âœ… æ•°æ®åŒ…ä¸¢å¤±
âœ… è¿æ¥ä¸ç¨³å®š
âœ… é‡ä¼ æ¬¡æ•°å¢åŠ 
```

---

## è¿æ¥è¶…æ—¶

### æ’æŸ¥æ–¹æ³•

**1. æµ‹è¯•è¿æ¥**

```bash
# æµ‹è¯•TCPè¿æ¥
telnet <host> <port>
nc -zv <host> <port>

# æµ‹è¯•HTTPè¿æ¥
curl -v http://<host>:<port>
wget http://<host>:<port>
```

**2. æŸ¥çœ‹ç½‘ç»œè¿æ¥**

```bash
# æŸ¥çœ‹ç½‘ç»œè¿æ¥çŠ¶æ€
netstat -ant | grep <port>
ss -ant | grep <port>

# æŸ¥çœ‹è¿æ¥æ•°
netstat -ant | grep ESTABLISHED | wc -l
ss -ant | grep ESTABLISHED | wc -l
```

### å¸¸è§åŸå› 

**1. ç«¯å£æœªç›‘å¬**

```bash
# æ£€æŸ¥ç«¯å£æ˜¯å¦ç›‘å¬
netstat -tlnp | grep <port>
ss -tlnp | grep <port>
lsof -i :<port>
```

**2. é˜²ç«å¢™é˜»æ­¢**

```bash
# æ£€æŸ¥é˜²ç«å¢™è§„åˆ™
iptables -L
firewall-cmd --list-all
```

**3. è¿æ¥æ•°è¾¾åˆ°ä¸Šé™**

```bash
# æŸ¥çœ‹è¿æ¥æ•°é™åˆ¶
ulimit -n
cat /proc/sys/net/core/somaxconn
```

### è§£å†³æ–¹æ¡ˆ

**1. æ£€æŸ¥ç«¯å£ç›‘å¬**

```bash
# ç¡®ä¿ç«¯å£æ­£åœ¨ç›‘å¬
netstat -tlnp | grep <port>
```

**2. æ£€æŸ¥é˜²ç«å¢™**

```bash
# å¼€æ”¾ç«¯å£
firewall-cmd --add-port=<port>/tcp --permanent
firewall-cmd --reload
```

**3. å¢åŠ è¿æ¥æ•°é™åˆ¶**

```bash
# å¢åŠ æ–‡ä»¶æè¿°ç¬¦é™åˆ¶
ulimit -n 65535

# æ°¸ä¹…ç”Ÿæ•ˆï¼ˆä¿®æ”¹é…ç½®æ–‡ä»¶ï¼‰
echo "* soft nofile 65535" >> /etc/security/limits.conf
echo "* hard nofile 65535" >> /etc/security/limits.conf
```

---

## ç½‘ç»œå»¶è¿Ÿ

### æ’æŸ¥æ–¹æ³•

**1. æµ‹è¯•ç½‘ç»œå»¶è¿Ÿ**

```bash
# æµ‹è¯•å»¶è¿Ÿ
ping <host>
ping -c 10 <host>

# æµ‹è¯•è·¯ç”±
traceroute <host>
mtr <host>
```

**2. æŸ¥çœ‹ç½‘ç»œç»Ÿè®¡**

```bash
# æŸ¥çœ‹ç½‘ç»œç»Ÿè®¡
netstat -i
ifconfig
ip -s link
```

### å¸¸è§åŸå› 

**1. ç½‘ç»œå¸¦å®½ä¸è¶³**

```bash
# æŸ¥çœ‹ç½‘ç»œå¸¦å®½ä½¿ç”¨
iftop
nethogs
```

**2. ç½‘ç»œæ‹¥å¡**

```bash
# æŸ¥çœ‹ç½‘ç»œæ‹¥å¡
netstat -s | grep -i "retransmit"
```

**3. è·¨åœ°åŸŸå»¶è¿Ÿ**

```bash
# æµ‹è¯•è·¨åœ°åŸŸå»¶è¿Ÿ
ping <remote_host>
```

### è§£å†³æ–¹æ¡ˆ

**1. ä¼˜åŒ–ç½‘ç»œé…ç½®**

```bash
# TCPä¼˜åŒ–
echo "net.core.somaxconn = 65535" >> /etc/sysctl.conf
echo "net.ipv4.tcp_tw_reuse = 1" >> /etc/sysctl.conf
sysctl -p
```

**2. ä½¿ç”¨CDN**

```
- ä½¿ç”¨CDNåŠ é€Ÿ
- å°±è¿‘è®¿é—®
- å‡å°‘ç½‘ç»œå»¶è¿Ÿ
```

**3. ä¼˜åŒ–éƒ¨ç½²**

```
- åŒæœºæˆ¿éƒ¨ç½²
- å‡å°‘è·¨ç½‘ç»œè°ƒç”¨
- ä½¿ç”¨å†…ç½‘é€šä¿¡
```

---

## ç½‘ç»œä¸¢åŒ…

### æ’æŸ¥æ–¹æ³•

**1. æµ‹è¯•ä¸¢åŒ…ç‡**

```bash
# æµ‹è¯•ä¸¢åŒ…ç‡
ping -c 100 <host>
# æŸ¥çœ‹ä¸¢åŒ…ç‡ç»Ÿè®¡

# ä½¿ç”¨mtræµ‹è¯•
mtr --report --report-cycles 100 <host>
```

**2. æŸ¥çœ‹ç½‘ç»œç»Ÿè®¡**

```bash
# æŸ¥çœ‹ç½‘ç»œç»Ÿè®¡
netstat -s | grep -i "packet"
netstat -s | grep -i "error"
```

### å¸¸è§åŸå› 

**1. ç½‘ç»œè´¨é‡å·®**

```bash
# æµ‹è¯•ç½‘ç»œè´¨é‡
ping -c 100 <host>
# æŸ¥çœ‹ä¸¢åŒ…ç‡
```

**2. ç½‘ç»œæ‹¥å¡**

```bash
# æŸ¥çœ‹ç½‘ç»œæ‹¥å¡
netstat -s | grep -i "retransmit"
```

**3. ç½‘ç»œè®¾å¤‡æ•…éšœ**

```bash
# æ£€æŸ¥ç½‘ç»œè®¾å¤‡
ping <gateway>
ping <dns>
```

### è§£å†³æ–¹æ¡ˆ

**1. ç½‘ç»œä¼˜åŒ–**

```bash
# TCPä¼˜åŒ–
echo "net.ipv4.tcp_syncookies = 1" >> /etc/sysctl.conf
echo "net.ipv4.tcp_max_syn_backlog = 8192" >> /etc/sysctl.conf
sysctl -p
```

**2. é‡è¯•æœºåˆ¶**

```java
// ç½‘ç»œè¯·æ±‚é‡è¯•
@Retryable(maxAttempts = 3, backoff = @Backoff(delay = 1000))
public void networkRequest() {
    // ç½‘ç»œè¯·æ±‚
}
```

**3. ç›‘æ§å‘Šè­¦**

```
âœ… ç½‘ç»œå»¶è¿Ÿç›‘æ§
âœ… ä¸¢åŒ…ç‡ç›‘æ§
âœ… ç½‘ç»œè´¨é‡ç›‘æ§
```

---

## æ’æŸ¥å·¥å…·

### 1. ç½‘ç»œè¯Šæ–­å·¥å…·

```bash
# ping - æµ‹è¯•è¿é€šæ€§
ping <host>

# traceroute - è·¯ç”±è¿½è¸ª
traceroute <host>

# mtr - ç½‘ç»œè¯Šæ–­
mtr <host>

# telnet - æµ‹è¯•ç«¯å£
telnet <host> <port>

# nc - ç½‘ç»œè¿æ¥æµ‹è¯•
nc -zv <host> <port>
```

### 2. ç½‘ç»œç›‘æ§å·¥å…·

```bash
# iftop - ç½‘ç»œæµé‡ç›‘æ§
iftop -i eth0

# nethogs - è¿›ç¨‹ç½‘ç»œç›‘æ§
nethogs

# netstat - ç½‘ç»œè¿æ¥ç»Ÿè®¡
netstat -antp

# ss - Socketç»Ÿè®¡
ss -antp
```

### 3. æŠ“åŒ…å·¥å…·

```bash
# tcpdump - ç½‘ç»œæŠ“åŒ…
tcpdump -i eth0 -w capture.pcap

# wireshark - ç½‘ç»œåˆ†æ
wireshark capture.pcap
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ€§èƒ½é—®é¢˜æ’æŸ¥](./01_æ€§èƒ½é—®é¢˜æ’æŸ¥.md)
- [ç³»ç»Ÿæ•…éšœæ’æŸ¥](./03_ç³»ç»Ÿæ•…éšœæ’æŸ¥.md)

---

**æœ€åæ›´æ–°**: 2025-10-29  
**æ–‡æ¡£çŠ¶æ€**: âœ… æ¡†æ¶å·²æ­å»ºï¼Œå†…å®¹æŒç»­å®Œå–„ä¸­

