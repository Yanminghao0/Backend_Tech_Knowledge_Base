# Tomcat Servletå¤„ç†æµç¨‹æºç è§£æ

> ğŸ’¡ æ·±å…¥ç†è§£Tomcatå¦‚ä½•å¤„ç†HTTPè¯·æ±‚å¹¶è°ƒç”¨Servlet

---

## ğŸ“š ç›®å½•

1. [å¤„ç†æµç¨‹æ¦‚è¿°](#1-å¤„ç†æµç¨‹æ¦‚è¿°)
2. [è¯·æ±‚æ˜ å°„æœºåˆ¶](#2-è¯·æ±‚æ˜ å°„æœºåˆ¶)
3. [Filteré“¾å¤„ç†](#3-filteré“¾å¤„ç†)
4. [Servletè°ƒç”¨](#4-servletè°ƒç”¨)
5. [å¼‚å¸¸å¤„ç†æœºåˆ¶](#5-å¼‚å¸¸å¤„ç†æœºåˆ¶)
6. [å¼‚æ­¥å¤„ç†](#6-å¼‚æ­¥å¤„ç†)
7. [é¢è¯•è¦ç‚¹](#7-é¢è¯•è¦ç‚¹)

---

## 1. å¤„ç†æµç¨‹æ¦‚è¿°

### 1.1 æ•´ä½“å¤„ç†æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Servletå¤„ç†æµç¨‹                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  HTTPè¯·æ±‚                                                   â”‚
â”‚     â”‚                                                       â”‚
â”‚     â–¼                                                       â”‚
â”‚  Connector (è§£æHTTPåè®®)                                   â”‚
â”‚     â”‚                                                       â”‚
â”‚     â–¼                                                       â”‚
â”‚  CoyoteAdapter (é€‚é…å™¨)                                     â”‚
â”‚     â”‚                                                       â”‚
â”‚     â–¼                                                       â”‚
â”‚  Engine â†’ Host â†’ Context â†’ Wrapper                          â”‚
â”‚     â”‚                                                       â”‚
â”‚     â–¼                                                       â”‚
â”‚  ApplicationFilterChain (Filteré“¾)                         â”‚
â”‚     â”‚                                                       â”‚
â”‚     â”œâ”€â”€ Filter1.doFilter()                                 â”‚
â”‚     â”œâ”€â”€ Filter2.doFilter()                                 â”‚
â”‚     â”œâ”€â”€ ...                                                 â”‚
â”‚     â”‚                                                       â”‚
â”‚     â–¼                                                       â”‚
â”‚  Servlet.service()                                          â”‚
â”‚     â”‚                                                       â”‚
â”‚     â”œâ”€â”€ doGet() / doPost() / ...                           â”‚
â”‚     â”‚                                                       â”‚
â”‚     â–¼                                                       â”‚
â”‚  å“åº”å¤„ç†                                                    â”‚
â”‚     â”‚                                                       â”‚
â”‚     â–¼                                                       â”‚
â”‚  HTTPå“åº”                                                   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 å…³é”®ç»„ä»¶

```java
/**
 * Servletå¤„ç†æ¶‰åŠçš„å…³é”®ç»„ä»¶
 */
public class ServletProcessingComponents {
    
    // 1. CoyoteAdapter - è¿æ¥å™¨é€‚é…å™¨
    // å°†Coyoteè¯·æ±‚è½¬æ¢ä¸ºCatalinaè¯·æ±‚
    CoyoteAdapter adapter;
    
    // 2. Mapper - è¯·æ±‚æ˜ å°„å™¨
    // æ ¹æ®URLæ˜ å°„åˆ°å…·ä½“çš„Host/Context/Wrapper
    Mapper mapper;
    
    // 3. ApplicationFilterChain - Filteré“¾
    // ç®¡ç†Filterçš„æ‰§è¡Œé¡ºåº
    ApplicationFilterChain filterChain;
    
    // 4. StandardWrapperValve - Wrapperå¤„ç†é˜€
    // è´Ÿè´£è°ƒç”¨Servlet
    StandardWrapperValve wrapperValve;
    
    // 5. Request/Response - è¯·æ±‚å“åº”å¯¹è±¡
    // å°è£…HTTPè¯·æ±‚å’Œå“åº”
    Request request;
    Response response;
}
```