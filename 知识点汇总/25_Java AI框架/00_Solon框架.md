# Solonæ¡†æ¶è¯¦è§£

> è½»é‡çº§Java Webæ¡†æ¶ï¼Œé«˜æ€§èƒ½ã€æ˜“æ‰©å±•ã€äº‘åŸç”Ÿå‹å¥½

---

## ğŸ“‹ ç›®å½•

- [1. Solonæ¡†æ¶æ¦‚è¿°](#1-solonæ¡†æ¶æ¦‚è¿°)
- [2. Solonæ ¸å¿ƒç‰¹æ€§](#2-solonæ ¸å¿ƒç‰¹æ€§)
- [3. Solonæ¶æ„è®¾è®¡](#3-solonæ¶æ„è®¾è®¡)
- [4. Solonå¿«é€Ÿå…¥é—¨](#4-solonå¿«é€Ÿå…¥é—¨)
- [5. Solonæ ¸å¿ƒç»„ä»¶](#5-solonæ ¸å¿ƒç»„ä»¶)
- [6. Solon Webå¼€å‘](#6-solon-webå¼€å‘)
- [7. Solonæ•°æ®è®¿é—®](#7-solonæ•°æ®è®¿é—®)
- [8. Soloné…ç½®ç®¡ç†](#8-soloné…ç½®ç®¡ç†)
- [9. Solonç”Ÿæ€ç³»ç»Ÿ](#9-solonç”Ÿæ€ç³»ç»Ÿ)
- [10. Solonä¸å…¶ä»–æ¡†æ¶å¯¹æ¯”](#10-solonä¸å…¶ä»–æ¡†æ¶å¯¹æ¯”)
- [11. æ€§èƒ½æµ‹è¯•ä¸ä¼˜åŒ–](#11-æ€§èƒ½æµ‹è¯•ä¸ä¼˜åŒ–)
- [12. éƒ¨ç½²ä¸è¿ç»´](#12-éƒ¨ç½²ä¸è¿ç»´)
- [13. åº”ç”¨åœºæ™¯ä¸æœ€ä½³å®è·µ](#13-åº”ç”¨åœºæ™¯ä¸æœ€ä½³å®è·µ)
- [14. æ€»ç»“ä¸å±•æœ›](#14-æ€»ç»“ä¸å±•æœ›)

---

## ğŸ¯ å­¦ä¹ ç›®æ ‡

- âœ… äº†è§£Solonæ¡†æ¶çš„åŸºæœ¬æ¦‚å¿µå’Œè®¾è®¡ç†å¿µ
- âœ… æŒæ¡Solonçš„æ ¸å¿ƒç‰¹æ€§å’Œæ¶æ„è®¾è®¡
- âœ… èƒ½å¤Ÿä½¿ç”¨Solonå¿«é€Ÿå¼€å‘Webåº”ç”¨
- âœ… ç†Ÿæ‚‰Solonçš„æ ¸å¿ƒç»„ä»¶å’ŒAPI
- âœ… äº†è§£Solonçš„ç”Ÿæ€ç³»ç»Ÿå’Œæ‰©å±•èƒ½åŠ›
- âœ… æŒæ¡Solonçš„éƒ¨ç½²å’Œè¿ç»´æ–¹æ³•
- âœ… ç†è§£Solonä¸å…¶ä»–Java Webæ¡†æ¶çš„å·®å¼‚

---

## 1. Solonæ¡†æ¶æ¦‚è¿°

### 1.1 ä»€ä¹ˆæ˜¯Solon

**Solon**æ˜¯ä¸€ä¸ªè½»é‡çº§çš„Java Webæ¡†æ¶ï¼Œç”±ä¸­å›½å¼€å‘è€…Noearå¼€æºï¼Œä¸“æ³¨äºé«˜æ€§èƒ½ã€ä½èµ„æºæ¶ˆè€—å’Œç®€å•æ˜“ç”¨ã€‚å®ƒæä¾›äº†å®Œæ•´çš„MVCã€IOCã€AOPæ”¯æŒï¼Œå¹¶æ”¯æŒå¤šç§æ•°æ®æºã€ç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰é›†æˆã€‚

**Solonçš„æ„¿æ™¯**ï¼šæ‰“é€ ä¸€ä¸ªç°ä»£åŒ–ã€è½»é‡çº§ã€é«˜æ€§èƒ½çš„Javaå¼€å‘æ¡†æ¶ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿæ›´é«˜æ•ˆåœ°æ„å»ºé«˜è´¨é‡çš„åº”ç”¨ã€‚

### 1.2 Solonçš„å‘å±•å†ç¨‹

- 2018å¹´ï¼šSolonæ¡†æ¶é¦–æ¬¡å‘å¸ƒ
- 2020å¹´ï¼šSolon 2.0ç‰ˆæœ¬å‘å¸ƒï¼Œé‡‡ç”¨å…¨æ–°çš„æ¶æ„è®¾è®¡
- 2022å¹´ï¼šSolonç”Ÿæ€ç³»ç»Ÿé€æ¸å®Œå–„ï¼Œæ”¯æŒæ›´å¤šçš„ä¸­é—´ä»¶å’Œäº‘åŸç”Ÿç‰¹æ€§
- 2024å¹´ï¼šSolon 3.0ç‰ˆæœ¬å‘å¸ƒï¼Œè¿›ä¸€æ­¥æå‡æ€§èƒ½å’Œæ˜“ç”¨æ€§

### 1.3 Solonçš„ä¼˜åŠ¿

**æ ¸å¿ƒä¼˜åŠ¿**ï¼š
- ğŸ”¹ **æè‡´æ€§èƒ½**ï¼šå¯åŠ¨æ—¶é—´<100msï¼ŒQPSå¯è¾¾10ä¸‡+ï¼Œå†…å­˜å ç”¨ä½
- ğŸ”¹ **è½»é‡çº§**ï¼šæ ¸å¿ƒjaråŒ…ä»…çº¦200KBï¼Œä¾èµ–å°‘
- ğŸ”¹ **ç®€å•æ˜“ç”¨**ï¼šAPIè®¾è®¡ç®€æ´ï¼Œå­¦ä¹ æ›²çº¿å¹³ç¼“
- ğŸ”¹ **æ‰©å±•æ€§å¼º**ï¼šæ”¯æŒæ’ä»¶æœºåˆ¶ï¼Œå¯è½»æ¾æ‰©å±•åŠŸèƒ½
- ğŸ”¹ **äº‘åŸç”Ÿå‹å¥½**ï¼šæ”¯æŒDockerã€Kubernetesç­‰å®¹å™¨åŒ–éƒ¨ç½²
- ğŸ”¹ **å¤šè¯­è¨€æ”¯æŒ**ï¼šæ”¯æŒJavaã€Kotlinã€Scalaç­‰JVMè¯­è¨€
- ğŸ”¹ **å…¨æ ˆæ”¯æŒ**ï¼šä»Webå¼€å‘åˆ°æ•°æ®è®¿é—®ï¼Œæä¾›å®Œæ•´çš„è§£å†³æ–¹æ¡ˆ

---

## 2. Solonæ ¸å¿ƒç‰¹æ€§

### 2.1 è½»é‡çº§æ¶æ„

- **æ ¸å¿ƒjaråŒ…**ï¼šä»…çº¦200KBï¼Œè¿œå°äºå…¶ä»–ä¸»æµæ¡†æ¶
- **å¯åŠ¨æ—¶é—´**ï¼š<100msï¼Œé€‚åˆå¾®æœåŠ¡å’ŒServerlessåœºæ™¯
- **å†…å­˜å ç”¨**ï¼šå¯åŠ¨æ—¶å†…å­˜å ç”¨<50MBï¼Œè¿è¡Œæ—¶å†…å­˜å ç”¨ä½
- **é›¶ä¾èµ–**ï¼šæ ¸å¿ƒæ¨¡å—å‡ ä¹é›¶ä¾èµ–ï¼Œå‡å°‘ç‰ˆæœ¬å†²çª

### 2.2 é«˜æ€§èƒ½è®¾è®¡

- **éé˜»å¡IO**ï¼šåŸºäºNettyçš„éé˜»å¡IOæ¨¡å‹
- **å¼‚æ­¥å¤„ç†**ï¼šæ”¯æŒå¼‚æ­¥è¯·æ±‚å¤„ç†
- **ä¼˜åŒ–çš„è·¯ç”±**ï¼šåŸºäºTrieæ ‘çš„è·¯ç”±åŒ¹é…ï¼Œæ€§èƒ½ä¼˜å¼‚
- **å‡å°‘åå°„**ï¼šå¤§é‡ä½¿ç”¨ç¼–è¯‘æ—¶ä»£ç ç”Ÿæˆï¼Œå‡å°‘è¿è¡Œæ—¶åå°„

### 2.3 å®Œæ•´çš„MVCæ”¯æŒ

- **æ§åˆ¶å™¨**ï¼šåŸºäºæ³¨è§£çš„æ§åˆ¶å™¨å®šä¹‰
- **è·¯ç”±**ï¼šçµæ´»çš„è·¯ç”±é…ç½®ï¼Œæ”¯æŒRESTfulé£æ ¼
- **è§†å›¾**ï¼šæ”¯æŒå¤šç§è§†å›¾æ¨¡æ¿å¼•æ“ï¼ˆThymeleafã€Freemarkerã€Velocityç­‰ï¼‰
- **å‚æ•°ç»‘å®š**ï¼šè‡ªåŠ¨å‚æ•°ç»‘å®šå’ŒéªŒè¯

### 2.4 å¼ºå¤§çš„IOCå®¹å™¨

- **ä¾èµ–æ³¨å…¥**ï¼šæ”¯æŒæ„é€ å‡½æ•°ã€å­—æ®µã€setteræ–¹æ³•æ³¨å…¥
- **ç»„ä»¶æ‰«æ**ï¼šè‡ªåŠ¨æ‰«æå’Œæ³¨å†Œç»„ä»¶
- **ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šå®Œæ•´çš„ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **æ¡ä»¶é…ç½®**ï¼šæ”¯æŒåŸºäºæ¡ä»¶çš„ç»„ä»¶æ³¨å†Œ

### 2.5 çµæ´»çš„AOPæ”¯æŒ

- **åˆ‡é¢ç¼–ç¨‹**ï¼šæ”¯æŒæ–¹æ³•çº§ã€ç±»çº§çš„åˆ‡é¢
- **æ³¨è§£é©±åŠ¨**ï¼šåŸºäºæ³¨è§£çš„AOPé…ç½®
- **æ‹¦æˆªå™¨**ï¼šæ”¯æŒå…¨å±€å’Œå±€éƒ¨æ‹¦æˆªå™¨
- **äº‹åŠ¡ç®¡ç†**ï¼šå£°æ˜å¼äº‹åŠ¡æ”¯æŒ

### 2.6 å¤šæ ·åŒ–çš„é…ç½®ç®¡ç†

- **é…ç½®æº**ï¼šæ”¯æŒpropertiesã€yamlã€jsonç­‰å¤šç§é…ç½®æ ¼å¼
- **ç¯å¢ƒéš”ç¦»**ï¼šæ”¯æŒå¤šç¯å¢ƒé…ç½®ï¼ˆdevã€testã€prodç­‰ï¼‰
- **åŠ¨æ€é…ç½®**ï¼šæ”¯æŒé…ç½®çš„åŠ¨æ€åˆ·æ–°
- **é…ç½®ç»‘å®š**ï¼šè‡ªåŠ¨ç»‘å®šé…ç½®åˆ°Javaå¯¹è±¡

### 2.7 ä¸°å¯Œçš„æ‰©å±•æœºåˆ¶

- **æ’ä»¶æœºåˆ¶**ï¼šæ”¯æŒæ’ä»¶çš„è‡ªåŠ¨åŠ è½½å’Œå¸è½½
- **æ‰©å±•ç‚¹**ï¼šæä¾›ä¸°å¯Œçš„æ‰©å±•ç‚¹
- **é€‚é…å™¨**ï¼šæ”¯æŒé€‚é…å…¶ä»–æ¡†æ¶å’Œä¸­é—´ä»¶

---

## 3. Solonæ¶æ„è®¾è®¡

### 3.1 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Solonåº”ç”¨å±‚                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Solonæ ¸å¿ƒå±‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ MVCæ¨¡å—   â”‚  â”‚ IOCå®¹å™¨     â”‚  â”‚ AOPæ¡†æ¶         â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ é…ç½®ç®¡ç†  â”‚  â”‚ äº‹ä»¶æœºåˆ¶     â”‚  â”‚ æ’ä»¶ç³»ç»Ÿ         â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Soloné€‚é…å±‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ WebæœåŠ¡å™¨ â”‚  â”‚ æ•°æ®æºé€‚é…   â”‚  â”‚ ç¼“å­˜é€‚é…         â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ æ¶ˆæ¯é˜Ÿåˆ—  â”‚  â”‚ å®šæ—¶ä»»åŠ¡     â”‚  â”‚ å®‰å…¨è®¤è¯         â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     å¤–éƒ¨ä¾èµ–å±‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æ ¸å¿ƒæ¨¡å—

1. **solon-core**ï¼šæ ¸å¿ƒæ¨¡å—ï¼ŒåŒ…å«IOCã€AOPã€é…ç½®ç®¡ç†ç­‰æ ¸å¿ƒåŠŸèƒ½
2. **solon-web**ï¼šWebå¼€å‘æ¨¡å—ï¼ŒåŒ…å«MVCæ¡†æ¶ã€è·¯ç”±ã€è§†å›¾ç­‰
3. **solon-data**ï¼šæ•°æ®è®¿é—®æ¨¡å—ï¼ŒåŒ…å«ORMã€äº‹åŠ¡ç®¡ç†ç­‰
4. **solon-cache**ï¼šç¼“å­˜æ¨¡å—ï¼Œæ”¯æŒå¤šç§ç¼“å­˜å®ç°
5. **solon-mq**ï¼šæ¶ˆæ¯é˜Ÿåˆ—æ¨¡å—ï¼Œæ”¯æŒå¤šç§æ¶ˆæ¯ä¸­é—´ä»¶
6. **solon-auth**ï¼šå®‰å…¨è®¤è¯æ¨¡å—ï¼Œæ”¯æŒå¤šç§è®¤è¯æ–¹å¼
7. **solon-cloud**ï¼šäº‘åŸç”Ÿæ¨¡å—ï¼Œæ”¯æŒäº‘å¹³å°é›†æˆ

### 3.3 è®¾è®¡åŸåˆ™

- **ç®€å•æ€§**ï¼šAPIè®¾è®¡ç®€æ´æ˜äº†ï¼Œæ˜“äºç†è§£å’Œä½¿ç”¨
- **é«˜æ€§èƒ½**ï¼šä»æ¶æ„åˆ°å®ç°ï¼Œå¤„å¤„è€ƒè™‘æ€§èƒ½ä¼˜åŒ–
- **å¯æ‰©å±•æ€§**ï¼šæä¾›ä¸°å¯Œçš„æ‰©å±•ç‚¹ï¼Œæ”¯æŒè‡ªå®šä¹‰æ‰©å±•
- **å…¼å®¹æ€§**ï¼šå…¼å®¹ä¸»æµçš„JavaæŠ€æœ¯æ ˆå’Œä¸­é—´ä»¶
- **äº‘åŸç”Ÿ**ï¼šæ”¯æŒç°ä»£äº‘åŸç”Ÿåº”ç”¨çš„å¼€å‘å’Œéƒ¨ç½²

---

## 4. Solonå¿«é€Ÿå…¥é—¨

### 4.1 ç¯å¢ƒå‡†å¤‡

- **Javaç‰ˆæœ¬**ï¼šJava 11æˆ–ä»¥ä¸Š
- **æ„å»ºå·¥å…·**ï¼šMavenæˆ–Gradle
- **Solonç‰ˆæœ¬**ï¼š3.0æˆ–ä»¥ä¸Š

### 4.2 é¡¹ç›®åˆå§‹åŒ–

ä½¿ç”¨Solon CLIåˆ›å»ºé¡¹ç›®ï¼š

```bash
# å®‰è£…Solon CLI
npm install -g solon-cli

# åˆ›å»ºé¡¹ç›®
solon create -a com.example -n solon-demo -t web
```

æˆ–ä½¿ç”¨Mavenåˆ›å»ºé¡¹ç›®ï¼Œæ·»åŠ Solonä¾èµ–ï¼š

```xml
<dependencies>
    <!-- Solonæ ¸å¿ƒä¾èµ– -->
    <dependency>
        <groupId>org.noear</groupId>
        <artifactId>solon-web</artifactId>
        <version>3.0.0</version>
        <type>pom</type>
    </dependency>
    
    <!-- å¯é€‰ï¼šè§†å›¾æ¨¡æ¿å¼•æ“ -->
    <dependency>
        <groupId>org.noear</groupId>
        <artifactId>solon.view.thymeleaf</artifactId>
        <version>3.0.0</version>
    </dependency>
</dependencies>
```

### 4.3 åˆ›å»ºç¬¬ä¸€ä¸ªæ§åˆ¶å™¨

```java
@Controller
public class HelloController {
    
    @Mapping("/")
    public String hello() {
        return "Hello, Solon!";
    }
    
    @Mapping("/hello/{name}")
    public String helloName(@Path String name) {
        return "Hello, " + name + "!";
    }
}
```

### 4.4 åˆ›å»ºåº”ç”¨å…¥å£

```java
public class App {
    public static void main(String[] args) {
        Solon.start(App.class, args);
    }
}
```

### 4.5 è¿è¡Œåº”ç”¨

```bash
# ä½¿ç”¨Mavenè¿è¡Œ
mvn solon:run

# æˆ–ç›´æ¥è¿è¡Œä¸»ç±»
java -jar target/solon-demo-1.0.0.jar
```

è®¿é—® http://localhost:8080/ å³å¯çœ‹åˆ°"Hello, Solon!"çš„å“åº”ã€‚

---

## 5. Solonæ ¸å¿ƒç»„ä»¶

### 5.1 Controller

**Controller**æ˜¯Solonçš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ï¼Œç”¨äºå¤„ç†HTTPè¯·æ±‚ï¼š

```java
@Controller
public class UserController {
    
    @Inject
    private UserService userService;
    
    @Mapping("/user/list")
    public List<User> list() {
        return userService.findAll();
    }
    
    @Mapping(value = "/user/add", method = MethodType.POST)
    public Result add(@Body User user) {
        userService.add(user);
        return Result.success();
    }
    
    @Mapping("/user/{id}")
    public User get(@Path long id) {
        return userService.findById(id);
    }
    
    @Mapping(value = "/user/update", method = MethodType.PUT)
    public Result update(@Body User user) {
        userService.update(user);
        return Result.success();
    }
    
    @Mapping(value = "/user/delete/{id}", method = MethodType.DELETE)
    public Result delete(@Path long id) {
        userService.delete(id);
        return Result.success();
    }
}
```

### 5.2 Service

**Service**ç”¨äºå®ç°ä¸šåŠ¡é€»è¾‘ï¼š

```java
@Service
public class UserServiceImpl implements UserService {
    
    @Inject
    private UserDao userDao;
    
    @Override
    public List<User> findAll() {
        return userDao.selectList(null);
    }
    
    @Override
    public User findById(long id) {
        return userDao.selectById(id);
    }
    
    @Override
    @Tran
    public void add(User user) {
        userDao.insert(user);
    }
    
    @Override
    @Tran
    public void update(User user) {
        userDao.updateById(user);
    }
    
    @Override
    @Tran
    public void delete(long id) {
        userDao.deleteById(id);
    }
}
```

### 5.3 Dao

**Dao**ç”¨äºæ•°æ®è®¿é—®ï¼š

```java
@Dao
public interface UserDao extends BaseMapper<User> {
    // å¯ä»¥æ·»åŠ è‡ªå®šä¹‰çš„SQLæ–¹æ³•
    List<User> findByAge(@Param("age") int age);
}
```

### 5.4 Configuration

**Configuration**ç”¨äºé…ç½®ç»„ä»¶ï¼š

```java
@Configuration
public class AppConfig {
    
    @Bean
    public DataSource dataSource(@Inject("${jdbc.url}") String url, 
                               @Inject("${jdbc.username}") String username, 
                               @Inject("${jdbc.password}") String password) {
        DruidDataSource dataSource = new DruidDataSource();
        dataSource.setUrl(url);
        dataSource.setUsername(username);
        dataSource.setPassword(password);
        return dataSource;
    }
    
    @Bean
    public CacheService cacheService() {
        return new RedisCacheService();
    }
}
```